{"ast":null,"code":"import _slicedToArray from\"D:/Web Development/superm-solution-react-18/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{loadStripe}from\"@stripe/stripe-js\";import Input from\"./Input.js\";import Button from\"./Button.js\";// TODO: Replace with your own publishable key\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var stripeLoadedPromise=loadStripe(\"pk_test_51M0hpaSGAts6H1RFYEOw4lMZvNtmscSfLVqGxjwwoPSKnH78mHrTFZKYP5LHelX39q7V6p0ngyFeuW7JycOELH3B00amBTmNlX\");export default function Cart(_ref){var cart=_ref.cart;var totalPrice=cart.reduce(function(total,product){return total+product.price*product.quantity;},0);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];function handleFormSubmit(event){event.preventDefault();var cartItems=cart.map(function(ele){var price_id='';var name=ele.name,quantity=ele.quantity;if(name==='Milk'){price_id='price_1M13B5SGAts6H1RFR4Mgwmgp';}else if(name==='Cheese'){price_id='price_1M127zSGAts6H1RFyeyg8GV6';}else if(name==='Tomato'){price_id='price_1M13BzSGAts6H1RFysnHbzvZ';}else price_id='price_1M13DrSGAts6H1RFqV2ATxqF';return{price:price_id,quantity:quantity};});stripeLoadedPromise.then(function(stripe){stripe.redirectToCheckout({lineItems:cartItems,mode:\"payment\",successUrl:\"https://superm.react-tutorial.app/\",cancelUrl:\"https://superm.react-tutorial.app/\",customerEmail:email}).then(function(response){// this will only log if the redirect did not work\nconsole.log(response.error);}).catch(function(error){// wrong API key? you will see the error message here\nconsole.log(error);});});}return/*#__PURE__*/_jsx(\"div\",{className:\"cart-layout\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Cart\"}),cart.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"You have not added any product to your cart yet.\"}),cart.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-cart\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"25%\",className:\"th-product\",children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:\"Unit price\"}),/*#__PURE__*/_jsx(\"th\",{width:\"10%\",children:\"Quanity\"}),/*#__PURE__*/_jsx(\"th\",{width:\"25%\",children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cart.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,width:\"30\",height:\"30\",alt:\"\"}),\" \",product.name]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",product.price]}),/*#__PURE__*/_jsx(\"td\",{children:product.quantity}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",product.price*product.quantity]})})]},product.id);})}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{colSpan:\"2\"}),/*#__PURE__*/_jsx(\"th\",{className:\"cart-highlight\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"th\",{className:\"cart-highlight\",children:[\"$\",totalPrice]})]})})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"pay-form\",onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Enter your email and then click on pay and your products will be delivered to you on the same day!\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"em\",{children:\"Enter your own Stripe Publishable Key in Cart.js for the checkout to work\"})]}),/*#__PURE__*/_jsx(Input,{placeholder:\"Email\",onChange:function onChange(event){return setEmail(event.target.value);},value:email,type:\"email\",required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Pay\"})]})]})]})});}","map":{"version":3,"sources":["D:/Web Development/superm-solution-react-18/src/Cart.js"],"names":["useState","loadStripe","Input","Button","stripeLoadedPromise","Cart","cart","totalPrice","reduce","total","product","price","quantity","email","setEmail","handleFormSubmit","event","preventDefault","cartItems","map","ele","price_id","name","then","stripe","redirectToCheckout","lineItems","mode","successUrl","cancelUrl","customerEmail","response","console","log","error","catch","length","image","id","target","value"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport Input from \"./Input.js\";\nimport Button from \"./Button.js\";\n\n// TODO: Replace with your own publishable key\nconst stripeLoadedPromise = loadStripe(\"pk_test_51M0hpaSGAts6H1RFYEOw4lMZvNtmscSfLVqGxjwwoPSKnH78mHrTFZKYP5LHelX39q7V6p0ngyFeuW7JycOELH3B00amBTmNlX\");\n\nexport default function Cart({ cart }) {\n  const totalPrice = cart.reduce(\n    (total, product) => total + product.price * product.quantity,\n    0\n  );\n\n  const [email, setEmail] = useState(\"\");\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n\n    const cartItems = cart.map((ele) => {\n      let price_id = '';\n      const {name, quantity} = ele;\n\n      if(name ==='Milk'){\n        price_id = 'price_1M13B5SGAts6H1RFR4Mgwmgp';\n      }else if(name === 'Cheese'){\n        price_id = 'price_1M127zSGAts6H1RFyeyg8GV6';\n      }else if(name ==='Tomato'){\n        price_id = 'price_1M13BzSGAts6H1RFysnHbzvZ';\n      }else price_id = 'price_1M13DrSGAts6H1RFqV2ATxqF'\n      return { price:price_id, quantity };\n    });\n\n    stripeLoadedPromise.then((stripe) => {\n      stripe\n        .redirectToCheckout({\n          lineItems: cartItems,\n          mode: \"payment\",\n          successUrl: \"https://superm.react-tutorial.app/\",\n          cancelUrl: \"https://superm.react-tutorial.app/\",\n          customerEmail: email,\n        })\n        .then((response) => {\n          // this will only log if the redirect did not work\n          console.log(response.error);\n        })\n        .catch((error) => {\n          // wrong API key? you will see the error message here\n          console.log(error);\n        });\n    });\n  }\n\n  return (\n    <div className=\"cart-layout\">\n      <div>\n        <h1>Your Cart</h1>\n        {cart.length === 0 && (\n          <p>You have not added any product to your cart yet.</p>\n        )}\n        {cart.length > 0 && (\n          <>\n            <table className=\"table table-cart\">\n              <thead>\n                <tr>\n                  <th width=\"25%\" className=\"th-product\">\n                    Product\n                  </th>\n                  <th width=\"20%\">Unit price</th>\n                  <th width=\"10%\">Quanity</th>\n                  <th width=\"25%\">Total</th>\n                </tr>\n              </thead>\n              <tbody>\n                {cart.map((product) => {\n                  return (\n                    <tr key={product.id}>\n                      <td>\n                        <img\n                          src={product.image}\n                          width=\"30\"\n                          height=\"30\"\n                          alt=\"\"\n                        />{\" \"}\n                        {product.name}\n                      </td>\n                      <td>${product.price}</td>\n                      <td>{product.quantity}</td>\n                      <td>\n                        <strong>${product.price * product.quantity}</strong>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n              <tfoot>\n                <tr>\n                  <th colSpan=\"2\"></th>\n                  <th className=\"cart-highlight\">Total</th>\n                  <th className=\"cart-highlight\">${totalPrice}</th>\n                </tr>\n              </tfoot>\n            </table>\n            <form className=\"pay-form\" onSubmit={handleFormSubmit}>\n              <p>\n                Enter your email and then click on pay and your products will be\n                delivered to you on the same day!\n                <br />\n                <em>\n                  Enter your own Stripe Publishable Key in Cart.js for the\n                  checkout to work\n                </em>\n              </p>\n              <Input\n                placeholder=\"Email\"\n                onChange={(event) => setEmail(event.target.value)}\n                value={email}\n                type=\"email\"\n                required\n              />\n              <Button type=\"submit\">Pay</Button>\n            </form>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}